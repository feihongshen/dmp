<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:context="http://www.springframework.org/schema/context"
	xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd
           http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.0.xsd"
	default-lazy-init="true">
  
	  
	  <bean id="consumerStarter" class="cn.explink.b2c.auto.order.mq.ConsumerStarter">
	    <property name="callBackList">  
            <list>  
                <ref bean="autoDispatchStatusConsumer" />
                <ref bean="tpsOrderAutomateConsumer" />
                <ref bean="tpsOrderConsumer" />
            </list>  
        </property> 
        <property name="senderList">  
            <list>  
                <ref bean="autoExceptionSender" />  
            </list>  
        </property> 
	  </bean>
   
   	  <bean id="autoDispatchStatusCallback" class="cn.explink.b2c.auto.order.mq.AutoDispatchStatusCallback" > 
   	  </bean>

   	  <bean id="autoDispatchStatusConsumer" class="cn.explink.b2c.auto.order.mq.ConsumerTemplate" >
		  	<property name="callBack" ref="autoDispatchStatusCallback"/> 
		  	<!-- channel -->
		  	<property name="exchangeKey" value="MQ_REC_TPS_DISPATCH_CHANNEL" /> 
		  	 <!-- 队列 -->
		  	<property name="queueKey" value="MQ_REC_TPS_DISPATCH_QUEUE" /> 
		  	<!-- 每次获取数量 -->
		  	<property name="fetchCount" value="10"/> 
		  	<!-- 是否自动提交 -->
		  	<property name="autoCommit" value="false"/> 
		  	<property name="mqConfigService" ref="mqConfigService"/> 
	  </bean> 
   
   	  <bean id="autoExceptionSender" class="cn.explink.b2c.auto.order.mq.AutoExceptionSender" > 
   	     <property name="channelKey" value="MQ_SEND_TPS_EXCEPTION_CHANNEL" /> 
   	     <property name="mqConfigService" ref="mqConfigService"/> 
   	  </bean>
 
  	  
  	  <!--start....消费下发订单信息-->
   	  <bean id="tpsOrderAutomateConsumer" class="cn.explink.b2c.auto.order.mq.ConsumerTemplate" >
		  	<property name="callBack" ref="tpsOrderAutomateMQCallback"/> 
		  	<!-- channel -->
		  	<property name="exchangeKey" value="MQ_REC_TPS_ORDER_CHANNEL" /> 
		  	 <!-- 队列 -->
		  	<property name="queueKey" value="MQ_REC_TPS_ORDER_QUEUE" /> 
		  	<!-- 每次获取数量 -->
		  	<property name="fetchCount" value="10"/> 
		  	<!-- 是否自动提交 -->
		  	<property name="autoCommit" value="false"/> 
		  	<property name="mqConfigService" ref="mqConfigService"/> 
	  </bean> 
   
   	  <bean id="tpsOrderAutomateMQCallback" class="cn.explink.b2c.auto.order.service.TPSOrderAutomateMQCallback" > 
   	  
   	  </bean>	
  	  <!--end....消费下发订单信息-->
  	  <!-- start 消费tps下发订单信息 -->
  	  <bean id="tpsOrderConsumer" class="cn.explink.b2c.auto.order.mq.ConsumerTemplate" >
            <property name="callBack" ref="tpsOrderMQCallback"/> 
            <!-- channel -->
            <property name="exchangeKey" value="TPS_ORDER_CHANNEL" /> 
             <!-- 队列 -->
            <property name="queueKey" value="TPS_ORDER_QUEUE" /> 
            <!-- 每次获取数量 -->
            <property name="fetchCount" value="10"/> 
            <!-- 是否自动提交 -->
            <property name="autoCommit" value="false"/> 
            <property name="mqConfigService" ref="mqConfigService"/> 
      </bean>      
  	  <!--  end 消费tps下发订单信息-->
</beans>
